<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Undangan Pernikahan - Lusiana & Agus</title>

  <style>
    :root{--accent:#8b5cf6;--muted:#777;--bg:#fafafa}

    *{margin:0;padding:0;box-sizing:border-box}
    body{
      font-family:Inter, Arial, sans-serif;
      background:var(--bg) url("img/bg.jpg") center/cover fixed no-repeat;
      color:#111;
      overflow-x:hidden;
    }

    /* COVER ------------------------------------------- */
    #cover{
      width:100%;
      height:100vh;
      background:rgba(0,0,0,0.45) url("img/cover.jpg") center/cover no-repeat;
      background-blend-mode:darken;
      display:flex;
      flex-direction:column;
      justify-content:center;
      align-items:center;
      text-align:center;
      color:#fff;
      padding:20px;
      opacity:0;
      animation:fadeInPage 1s forwards;
    }
    #cover h1{font-size:38px;margin:4px 0}
    #cover button{
      margin-top:14px;
      padding:12px 28px;
      background:#fff;
      border:0;border-radius:8px;
      cursor:pointer;
      font-weight:600;
      transition:0.25s;
    }
    #cover button:hover{transform:scale(1.05)}

    @keyframes fadeInPage{
      from{opacity:0;}
      to{opacity:1;}
    }

    /* MAIN WRAPPER ------------------------------------ */
    #content{display:none;animation:fadeInPage 1s forwards}

    header{
      background:rgba(255,255,255,0.6);
      backdrop-filter:blur(6px);
      padding:22px;
      text-align:center;
      position:sticky;top:0;
      z-index:10;
    }
    nav{display:flex;gap:8px;justify-content:center;flex-wrap:wrap;margin-top:6px}
    nav a{
      padding:6px 10px;
      border-radius:8px;
      text-decoration:none;
      color:var(--accent);
      font-weight:600;
    }

    .container{max-width:900px;margin:auto;padding:20px}

    .card{
      background:rgba(255,255,255,0.85);
      backdrop-filter:blur(6px);
      border-radius:12px;
      padding:18px;
      margin:18px 0;
      box-shadow:0 2px 10px rgba(0,0,0,0.08);
      opacity:0;
      transform:translateY(40px);
      transition:0.8s;
    }
    .card.reveal{
      opacity:1;
      transform:translateY(0);
    }

    /* COUNTDOWN */
    #countdown{
      text-align:center;
      font-size:18px;
      font-weight:600;
      margin-top:8px;
    }

    /* GALERI */
    .gallery{display:flex;flex-wrap:wrap;gap:8px}
    .gallery img{
      width:calc(50% - 8px);
      border-radius:8px;
      cursor:pointer;
      transition:0.2s;
    }
    .gallery img:hover{transform:scale(1.03)}
    @media(max-width:660px){.gallery img{width:100%}}

    /* LIGHTBOX */
    #lightbox{
      position:fixed;
      top:0;left:0;width:100%;height:100%;
      background:rgba(0,0,0,0.8);
      display:none;
      align-items:center;justify-content:center;
      z-index:999;
    }
    #lightbox img{
      max-width:90%;max-height:90%;
      border-radius:10px;
    }

    /* BUNGA JATUH (PETALES) */
    .petal{
      position:fixed;
      top:-10px;
      width:12px;height:12px;
      background:#ffb7c5;
      border-radius:50%;
      opacity:0.8;
      animation:fall 8s linear infinite;
      pointer-events:none;
    }
    @keyframes fall{
      from{transform:translateY(-10px) rotate(0deg)}
      to{transform:translateY(110vh) rotate(220deg)}
    }
  </style>
</head>
<body>

<!-- ============ COVER ============ -->
<div id="cover">
  <h2>Undangan Pernikahan</h2>
  <h1>Lusiana & Agus</h1>
  <p>Kepada Yth. Bapak/Ibu/Saudara/i</p>
  <button onclick="masukUndangan()">Buka Undangan</button>
</div>

<!-- MUSIC -->
<audio id="bgm" loop>
  <source src="music/background.mp3" type="audio/mpeg">
</audio>

<!-- ============ CONTENT ============ -->
<div id="content">
  <header>
    <h2>Lusiana & Agus</h2>
    <div id="countdown">Menghitung...</div>
    <nav>
      <a href="#mempelai">Mempelai</a>
      <a href="#acara">Acara</a>
      <a href="#lokasi">Lokasi</a>
      <a href="#galeri">Galeri</a>
      <a href="#ucapan">Ucapan</a>
    </nav>
  </header>

  <div class="container">

    <div class="card" id="mempelai">
      <h3>Mempelai</h3>
      <p>Agus & Lusiana</p>
    </div>

    <div class="card" id="acara">
      <h3>Acara</h3>
      <p>Akad: Sabtu, 13 Des 2025 — 08:00 WIB</p>
      <p>Resepsi: Sabtu, 13 Des 2025 — 10:00 WIB</p>
    </div>

    <div class="card" id="lokasi">
      <h3>Lokasi</h3>
      <iframe style="width:100%;height:240px;border:0;border-radius:10px"
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3953.792880512832!2d111.4538887!3d-7.7053619">
      </iframe>
      <div style="text-align:center;margin-top:6px">
        <a href="https://maps.app.goo.gl/bokj2txArMbWqtmu7" target="_blank">Buka di Google Maps</a>
      </div>
    </div>

    <div class="card" id="galeri">
      <h3>Galeri</h3>
      <div class="gallery">
        <img onclick="openLightbox(this.src)" src="img/g1.jpg">
        <img onclick="openLightbox(this.src)" src="img/g2.jpg">
        <img onclick="openLightbox(this.src)" src="img/g3.jpg">
        <img onclick="openLightbox(this.src)" src="img/g4.jpg">
      </div>
    </div>

    <div class="card" id="ucapan">
      <h3>Ucapan & RSVP</h3>
      <p>Simpan data ke localStorage / bisa dihubungkan ke server.</p>
      <!-- kalau mau lanjut nanti tinggal tambahin form lama -->
    </div>

    <footer style="text-align:center;margin:20px 0;color:#555">
      Terima kasih
    </footer>
  </div>
</div>

<!-- LIGHTBOX -->
<div id="lightbox" onclick="closeLightbox()">
  <img id="lightImg">
</div>

<script>
/* ==== MASUK UNDG + MUSIK ==== */
function masukUndangan(){
  document.getElementById("cover").style.display="none";
  document.getElementById("content").style.display="block";

  const bgm=document.getElementById("bgm");
  bgm.muted=false;
  bgm.play().catch(()=>{});
}

/* ==== COUNTDOWN ==== */
const target = new Date("2025-12-13T08:00:00").getTime();
setInterval(()=>{
  let now = Date.now();
  let sisa = target-now;
  if(sisa <= 0){
    document.getElementById("countdown").innerHTML="Hari ini!";
    return;
  }
  let d = Math.floor(sisa/(1000*60*60*24));
  let h = Math.floor((sisa%(1000*60*60*24))/(1000*60*60));
  let m = Math.floor((sisa%(1000*60*60))/(1000*60));
  let s = Math.floor((sisa%(1000*60))/1000);
  document.getElementById("countdown").innerHTML= `${d}h ${h}j ${m}m ${s}d`;
},1000);

/* ==== REVEAL ON SCROLL ==== */
function reveal(){
  document.querySelectorAll(".card").forEach(sec=>{
    let top = sec.getBoundingClientRect().top;
    if(top < window.innerHeight - 60){
      sec.classList.add("reveal");
    }
  })
}
window.addEventListener("scroll", reveal);
window.addEventListener("load", reveal);

/* ==== LIGHTBOX ==== */
function openLightbox(src){
  document.getElementById("lightImg").src = src;
  document.getElementById("lightbox").style.display="flex";
}
function closeLightbox(){
  document.getElementById("lightbox").style.display="none";
}

/* ==== BUNGA JATUH ==== */
function bungaJatuh(){
  const petal=document.createElement("div");
  petal.classList.add("petal");
  petal.style.left=Math.random()*100+"vw";
  petal.style.animationDuration=(5+Math.random()*5)+"s";
  document.body.appendChild(petal);
  setTimeout(()=>petal.remove(),10000);
}
setInterval(bungaJatuh,300);
</script>

</body>
</html>
